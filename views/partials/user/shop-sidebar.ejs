<div class="col-lg-3">
  <div class="shop__sidebar">
    <div class="shop__sidebar__search">
      <form action="/search" method="POST">
        <input type="text" placeholder="Search..." name="query">
        <button type="submit"><span class="icon_search"></span></button>
      </form>
    </div>
    <div class="shop__sidebar__accordion">
      <div class="accordion" id="accordionExample">
        <div class="card">
          <div class="card-heading">
            <a data-toggle="collapse" data-target="#collapseOne">Categories</a>
          </div>
          <div id="collapseOne" class="collapse show" data-parent="#accordionExample">
            <div class="card-body">
              <div class="shop__sidebar__categories">
                <ul class="nice-scroll">
                  <% categoriesWithIds.forEach(category => { %>
                  <li>
                    <a href="/filter?category=<%= category._id %>">
                      <%= category.name %>
                    </a>
                  </li>
                  <% }) %>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-heading">
            <a data-toggle="collapse" data-target="#collapseTwo">Branding</a>
          </div>
          <div id="collapseTwo" class="collapse show" data-parent="#accordionExample">
            <div class="card-body">
              <div class="shop__sidebar__brand">
                <ul>
                  <% brand.forEach(brand => { %>
                  <li><a href="/filter?brand=<%= brand._id %>"><%= brand.brandName %></a></li>
                  <% }) %>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-heading">
            <a data-toggle="collapse" data-target="#collapseThree">Filter Price</a>
          </div>
          <div id="collapseThree" class="collapse show" data-parent="#accordionExample">
            <div class="card-body">
              <div class="shop__sidebar__price">
                <ul>
                  <% 
                    const priceRanges = [
                      { label: '₹00.00 - ₹5000.00', gt: 0, lt: 5000 },
                      { label: '₹5000.00 - ₹10000.00', gt: 5000, lt: 10000 },
                      { label: '₹10000.00 - ₹15000.00', gt: 10000, lt: 15000 },
                      { label: '₹15000.00 - ₹30000.00', gt: 15000, lt: 30000 },
                      { label: '₹30000.00 - ₹40000.00', gt: 40000, lt: 40000 },
                      { label: '₹40000.00 - ₹60000.00', gt: 40000, lt: 60000 },
                      { label: '₹60000.00 - ₹80000.00', gt: 60000, lt: 80000 },
                      { label: '₹80000.00+', gt: 80000, lt: 800000 } 
                    ]; 
                    priceRanges.forEach(priceRange => { 
                      const queryString = `gt=${priceRange.gt}&lt=${priceRange.lt}`; 
                    %>
                  <li><a href="/filterPrice?<%= queryString %>"><%= priceRange.label %></a></li>
                  <% }) %>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-heading">
            <a data-toggle="collapse" data-target="#collapseFour">Storage Size</a>
          </div>
          <div id="collapseFour" class="collapse show" data-parent="#accordionExample">
            <div class="card-body">
              <div class="shop__sidebar__size">
                <% const sizes = ['64GB', '128GB', '256GB', '512GB', '1024GB']; %>
                <% sizes.forEach(size => { %>
                <label for="<%= size.toLowerCase() %>"><%= size %>
                  <input type="radio" id="<%= size.toLowerCase() %>" name="size">
                </label>
                <% }) %>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-heading">
            <a data-toggle="collapse" data-target="#collapseFive">Colors</a>
          </div>
          <div id="collapseFive" class="collapse show" data-parent="#accordionExample">
            <div class="card-body">
              <div class="shop__sidebar__color">
                <% const colors = ['red', 'blue', 'green', 'yellow', 'black', 'white', 'pink', 'purple', 'orange']; %>
                <% colors.forEach((color, index) => { %>
                <label class="c-<%= index + 1 %>" for="sp-<%= index + 1 %>">
                  <input type="radio" id="sp-<%= index + 1 %>" name="color">
                </label>
                <% }) %>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-heading">
            <a data-toggle="collapse" data-target="#collapseSix">Tags</a>
          </div>
          <div id="collapseSix" class="collapse show" data-parent="#accordionExample">
            <div class="card-body">
              <div class="shop__sidebar__tags">
                <a href="#">Product</a>
                <a href="#">Bags</a>
                <a href="#">Shoes</a>
                <a href="#">Fashio</a>
                <a href="#">Clothing</a>
                <a href="#">Hats</a>
                <a href="#">Accessories</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>